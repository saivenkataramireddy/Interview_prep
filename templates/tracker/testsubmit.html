{% extends 'tracker/base.html' %}

{% block content %}
<style>
  .result-card {
    background: #ffffff;
    border-radius: 20px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.15);
    padding: 40px;
    text-align: center;
    animation: zoomIn 0.7s ease-in-out;
    position: relative;
    overflow: hidden;
  }

  .result-score {
    font-size: 60px;
    font-weight: 800;
    animation: pop 1s ease-in-out;
  }

  .pass {
    color: #28a745;
  }

  .fail {
    color: #dc3545;
  }

  @keyframes pop {
    0% { transform: scale(0.5); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
  }

  @keyframes zoomIn {
    0% { transform: scale(0.5) translateY(20px); opacity: 0; }
    100% { transform: scale(1) translateY(0); opacity: 1; }
  }

  .shock-glow {
    animation: glowPulse 2s infinite alternate;
  }

  @keyframes glowPulse {
    0% {
      box-shadow: 0 0 15px rgba(255, 223, 0, .4);
    }
    100% {
      box-shadow: 0 0 40px rgba(255, 223, 0, 1);
    }
  }

  .confetti {
    position: absolute;
    top: 0;
    width: 100%;
    height: 0;
    animation: fall 1.2s ease-in-out forwards;
  }

  @keyframes fall {
    from { height: 0; }
    to { height: 100%; }
  }

  .btn-animated {
    transition: transform .2s, box-shadow .2s;
  }
  .btn-animated:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
  }
</style>


<div class="container mt-5">
  <div class="result-card shock-glow">

    {% if passed %}
      <img class="confetti" src="https://i.ibb.co/Y8tSfgv/confetti.gif">
      <h2 class="text-success fw-bold">ðŸŽ‰ Congratulations!</h2>
    {% else %}
      <h2 class="text-danger fw-bold">âš  Keep Improving!</h2>
    {% endif %}

    <p class="mt-2">{{ message }}</p>

    <h1 class="result-score {% if passed %}pass{% else %}fail{% endif %}">
      {{ score }}%
    </h1>

    <div class="mt-4">
      {% if passed %}
        <a href="{% url 'dashboard' %}" class="btn btn-success btn-lg w-100 btn-animated">Continue to Dashboard ðŸš€</a>
      {% else %}
        <a href="{% url 'practice' %}" class="btn btn-danger btn-lg w-100 btn-animated">Retake Test ðŸ’ª</a>
      {% endif %}
    </div>

    <div class="mt-3">
      <a href="{% url 'dashboard' %}" class="btn btn-secondary btn-sm btn-animated">Back to Dashboard</a>
    </div>
  </div>
</div>
{% endblock %}
